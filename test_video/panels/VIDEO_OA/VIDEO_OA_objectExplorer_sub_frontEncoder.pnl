V 13
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
PANEL,-1 -1 850 651 N "Video_panel" 1
"$OBJECT"
E E E E E 1 -1 -1 0  0 0
""0  1
E E 3
"CBRef" "1"
"EClose" E
"dpi" "96"
0 0 0
""
DISPLAY_LAYER, 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
LAYER, 0 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
14 12
"txt_comment"
""
1 319.9434869075241 40 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
1 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

0
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0  318 38 632 64
2 "0s" 0 0 0 1 0 -1  E E E
6 51
"RECTANGLE1"
""
1 10 210 E E E 1 E 1 E N {0,0,0} E N "Video_textField" E E
 E E
91 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

2
"dashclr"N "_Transparent"
"antiAliased" "0"
"main()
{
  
   dpConnect(\"VIDEO_OA_work_frontInterface\", $OBJECT+\".object.device.link\");
}

VIDEO_OA_work_frontInterface(string dp1, dyn_string asLink)
{
  VIDEO_OA_formatDeviceLink(asLink); 

  mapping objectInfo =  VIDEO_OA_objExpObjectInfoToMapping(asLink[1]);

  VIDEO_OA_objExpFillKeyValueFields(VIDEO_OA_objExpGetKeyValueFields(), objectInfo);
}


 " 0
 E 0 1 1 2 1 E 0.6916335757984844 0 0.5516441885743929 203.0836642420152 -35.8452796006225 1 E 10 210 620 460
14 66
"TEXT_FIELD1"
""
1 860 190 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
106 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

0
3
LANG:10000 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,75,0,0,0,0,0
0  858 188 912 213
2 "0s" 0 0 0 1 0 -1  E E E
14 72
"txt_type"
""
1 319.8979118329467 109.1370076151855 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
112 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

1
"sizePolicy" "Expanding Fixed"
3
LANG:10000 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,75,0,0,0,0,0
0  318 108 522 133
2 "0s" 0 0 0 1 0 -1  E "main()
{
  dpConnect(\"VIDEO_OA_objExpShowInfoWork\", $OBJECT + \".object.device.definition\");
}
" 0
 E
14 74
"txt_dp"
""
1 320 10 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
114 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

0
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0  318 8 632 34
2 "0s" 0 0 0 1 0 -1  E E E
14 100
"TEXT_FIELD2"
""
1 319.8979118329467 139.1370076151855 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
118 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

1
"sizePolicy" "Expanding Fixed"
3
LANG:10000 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,75,0,0,0,0,0
0  318 138 522 163
2 "0s" 0 0 0 1 0 -1  E "main()
{
  dyn_string link;
  string encoderType,address;  
  dpGet( $OBJECT + \".object.device.link\", link);
  VIDEO_OA_formatControllerLink(link);
  encoderType = VIDEO_OA_filterKeywordValue(link[1],\"ctrlProtocol\");
  address = VIDEO_OA_filterKeywordValue(link[1],\"ip\");
  this.text(getCatStr(\"voa_general\", \"encoderType_\" + encoderType));
  txt_address.text = address;
}
" 0
 E
14 101
"txt_address"
""
1 319.8979118329467 169.1370076151855 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
119 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

1
"sizePolicy" "Expanding Fixed"
3
LANG:10000 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,75,0,0,0,0,0
0  318 168 522 193
2 "0s" 0 0 0 1 0 -1  E E E
6 102
"RECTANGLE2"
""
1 10 210 E E E 1 E 1 E N {0,0,0} E N "Video_textField" E E
 E E
120 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

2
"dashclr"N "_Transparent"
"antiAliased" "0"
"main()
{
  
   dpConnect(\"VIDEO_OA_work_frontInterface\", $OBJECT+\".object.device.link\");
}

VIDEO_OA_work_frontInterface(string dp1, dyn_string asLink)
{
  VIDEO_OA_formatDeviceLink(asLink); 

  mapping objectInfo =  VIDEO_OA_objExpObjectInfoToMapping(asLink[1]);

  VIDEO_OA_objExpFillKeyValueFields(VIDEO_OA_objExpGetKeyValueFields(), objectInfo);
}


 " 0
 E 0 1 1 2 1 E 0.6916335757984844 0 0.3174930581723125 203.0836642420152 173.3264577838144 1 E 10 210 620 460
14 103
"TEXT_FIELD3"
""
1 329.9030162412993 267.1370076151855 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
121 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

1
"sizePolicy" "Expanding Fixed"
3
LANG:10000 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,75,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,75,0,0,0,0,0
0  328 266 522 291
2 "0s" 0 0 0 1 0 -1  E "main()
{
  VIDEO_OA_objExpShowObjectStateTextField($OBJECT);
}
" 0
 E
2 104
"PRIMITIVE_TEXT10"
""
1 9441.286630302106 2584.000000000001 E E E 1 E 1 E N "Video_text" E N "_Transparent" E E
 E E
122 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "1"
E E 0 1 1 2 1 E 1.016949152542373 0 1 291.4915254237287 110.0000000000001 1 E -5 161.9999999999999 30.00000000000007 177
0 2 2 "0s" 0 0 0 194 0 0  30.00000000000007 161.9999999999999 1
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0 3
LANG:10000 7 Status:
LANG:10001 6 State:
LANG:10027 6 State:
2 105
"PRIMITIVE_TEXT8"
""
1 9222.838567481651 1618.000000000001 E E E 1 E 1 E N "Video_text" E N "_Transparent" E E
 E E
123 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "1"
E E 0 1 1 2 1 E 1.016949152542373 0 1 279.4915254237287 9.000000000000114 1 E -36 161.9999999999999 30.00000000000007 177
0 2 2 "0s" 0 0 0 194 0 0  30.00000000000007 161.9999999999999 1
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0 3
LANG:10000 11 IP Adresse:
LANG:10001 11 IP address:
LANG:10027 11 IP address:
2 106
"PRIMITIVE_TEXT11"
""
1 9170.8639528533 -326.0000000000108 E E E 1 E 1 E N "Video_text" E N "_Transparent" E E
 E E
124 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "1"
E E 0 1 1 2 1 E 1.016949152542373 0 1 280.4915254237287 -49.0000000000012 1 E -2 161.9999999999999 30.00000000000007 177
0 2 2 "0s" 0 0 0 194 0 0  30.00000000000007 161.9999999999999 1
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0 3
LANG:10000 4 Typ:
LANG:10001 5 Type:
LANG:10027 5 Type:
25 107
"tab_function"
""
1 210 340 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
125 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

0
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0  208 338 632 406
"main()
{
  VIDEO_OA_objExpFillStateTab($OBJECT);  
}







" 0
E 1 0 1 2 0 "#1" 26 1 0 "s" 3
LANG:10000 6 Status
LANG:10001 5 State
LANG:10027 5 State
E
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

302 "#2" 8 1 0 "s" 3
LANG:10000 4 Wert
LANG:10001 5 Value
LANG:10027 5 Value
E
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

100 
20 20 10 0
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0 0 2 0 1 7
1 0
2 111
"PRIMITIVE_TEXT17"
""
1 10341.51081263253 -1397 E E E 1 E 1 E N "Video_text" E N "_Transparent" E E
 E E
129 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "1"
E E 0 1 1 2 1 E 1.016949152542373 0 1 284.9152542372866 -151 1 E -29 161.9999999999999 30.00000000000007 177
0 2 2 "0s" 0 0 0 194 0 0  30.00000000000007 161.9999999999999 1
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0 3
LANG:10000 15 Datenpunktname:
LANG:10001 10 Datapoint:
LANG:10027 10 Datapoint:
2 112
"PRIMITIVE_TEXT18"
""
1 10341.51081263253 -1043 E E E 1 E 1 E N "Video_text" E N "_Transparent" E E
 E E
130 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "1"
E E 0 1 1 2 1 E 1.016949152542373 0 1 284.9152542372866 -121 1 E -39 161.9999999999999 30.00000000000007 177
0 2 2 "0s" 0 0 0 194 0 0  30.00000000000007 161.9999999999999 1
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0 3
LANG:10000 13 Beschreibung:
LANG:10001 12 Description:
LANG:10027 12 Description:
25 114
"TABLE2"
""
1 210.2203389830494 430.9930411202429 E E E 1 E 1 E N "Video_text" E N "Video_textField" E E
 E E
132 0 0 0 0 0
E E E
0
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

0
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0  208 429 632 617
"main()
{
  VIDEO_OA_alternatingRowColorsForTable();
  VIDEO_OA_objExpGetConnectedCamerasForEncoder($OBJECT, this.name);

}


dyn_dyn_string VIDEO_OA_objExpGetConnectedCamerasForEncoder (string encoderDp = \"\", string shapeName)
{
  dyn_dyn_anytype tab;

  string query;
  
  setValue(shapeName, \"sortOnClick\", 0);
  
  if( dpExists(encoderDp))
  {
    string sSystem = dpSubStr(encoderDp, DPSUB_SYS);

    query = \"SELECT '_online.._value' FROM '*.object.device.link' REMOTE '\" + sSystem + \"'  WHERE '_online.._value' LIKE \\\"*videoEncoder=\" + dpSubStr(encoderDp, DPSUB_DP) + \"*\\\"\";
    
    dpQueryConnectAll(\"VIDEO_OA_objExpGetConnectedCamerasForEncoderWork\", 1, shapeName, query);
   }


}
VIDEO_OA_objExpGetConnectedCamerasForEncoderWork(anytype userData, dyn_dyn_anytype tab) 
{     
  dyn_dyn_string result;
  
  shape widget = getShape(userData);
  widget.deleteAllLines();  
    
  for (int i = 2; i <= dynlen(tab); i++)
  {
    string camera = dpSubStr( tab[i][1], DPSUB_SYS_DP);
    string videoPort = VIDEO_OA_filterKeywordValue(tab[i][2], \"videoPort\");
      
    result[dynlen(result) + 1][1] = camera;
    result[dynlen(result)    ][2] = videoPort;
    sprintf(videoPort, \"%05d\", (int)videoPort);     // format for sort
    result[dynlen(result)    ][3] =  videoPort;            
  }    

  dynDynSort(result,3); // sort result 

  for (int i = 1; i <= dynlen(result); i++)
  { 
    string number;
        
    
    if(dpTypeName(result[i][1]) == \"VIDEO_OA_CAMERA\")
    {
      sprintf(number,\"%05d\",VIDEO_OA_getCameraNumFromDp(result[i][1]));
      widget.appendLine(\"#1\", result[i][2], \"#2\", \"(\" + number + \"): \" + dpGetComment(result[i][1] + \".\"));
    }
    else if(dpTypeName(result[i][1]) == \"VIDEO_OA_ENCODER_POOL_CHANNEL\")
      widget.appendLine(\"#1\", result[i][2], \"#2\", \"(\" + getCatStr(\"voa_general\",\"video_encoder_pool\" )+ \"): \" + dpGetComment(result[i][1] + \".\"));  
  }
}





" 0
E 1 0 1 2 0 "#2" 26 1 0 "s" 3
LANG:10000 6 Kamera
LANG:10001 6 Camera
LANG:10027 6 Camera
E
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

302 "#1" 8 1 0 "[0s,,,ALIGNMENT_CENTER]" 3
LANG:10000 4 Port
LANG:10001 4 Port
LANG:10027 4 Port
E
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 

100 
20 20 10 0
3
LANG:10000 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10001 26 Arial,-1,13,5,50,0,0,0,0,0
LANG:10027 26 Arial,-1,13,5,50,0,0,0,0,0
0 0 2 0 1 7
1 0
0
LAYER, 1 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 2 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 3 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 4 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 5 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 6 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
LAYER, 7 
3
LANG:10000 0 
LANG:10001 0 
LANG:10027 0 
0
0
