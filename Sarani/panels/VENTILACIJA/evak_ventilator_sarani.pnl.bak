V 13
3
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
PANEL,-1 -1 418 373 N "_3DFace" 1
"$EVAK_VENT"
E E E E E 1 -1 -1 0  72.18176530874865 40.948494160645
""0  1
E E 3
"CBRef" "1"
"EClose" E
"dpi" "96.0946"
0 0 0
""
DISPLAY_LAYER, 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
LAYER, 0 
2
LANG:10024 0 
LANG:10027 0 
13 0
"leftButton"
""
1 135.5743910980932 324.1613758287351 E E E 1 E 1 E N "WF_Text" E N "_Button" E E
 E E
0 0 0 0 0 0
E E E
0
3
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 

0
3
LANG:10024 35 MS Shell Dlg 2,-1,12,5,75,0,0,0,0,0
LANG:10027 35 MS Shell Dlg 2,-1,12,5,75,0,0,0,0,0
LANG:10001 35 MS Shell Dlg 2,-1,12,5,75,0,0,0,0,0
0  134 304 278 358

T 
3
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
"main()
{
  string sys_name = \"SysSarani:\";
  bool naprijed;
  dpGet(sys_name + $EVAK_VENT + \".cmd.led.naprijed\", naprijed);

  if (naprijed){
    dpSet(sys_name + $EVAK_VENT + \".cmd.sdv.manuelno.naprijed\", 0);
  }
  else {
    dpSet(sys_name + $EVAK_VENT + \".cmd.sdv.manuelno.naprijed\", 1);
  }
  
  
  delay(2);
  bool kvar;
  dpGet(sys_name + $EVAK_VENT + \".alarm.kvar_state\", kvar);  
  
  if (kvar) {
    dpSet(sys_name + $EVAK_VENT + \".cmd.sdv.manuelno.naprijed\", 0);
    sdOpenPopup(\"\", \"VENTILACIJA/greska.pnl\", \"\", 0, 0, 0, makeDynString(\"\"),false);
  }  
}




" 0
 E E E
2 3
"statusTextBox"
""
1 18.5 372.1765240571182 E E E 1 E 1 E N "_WindowText" E N "_Window" E E
 E E
3 0 0 0 0 0
E E E
0
3
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 2 1 E U  0 E 18.5 372.1765240571182 20 388
0 2 2 "0s" 0 0 0 192 0 0  18.5 372.1765240571182 1
3
LANG:10024 26 Arial,-1,16,5,75,0,0,0,0,0
LANG:10027 26 Arial,-1,16,5,75,0,0,0,0,0
LANG:10001 26 Arial,-1,16,5,75,0,0,0,0,0
0 3
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
6 20
"RECTANGLE2"
""
1 10 10 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
20 0 0 0 0 0
E E E
0
3
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 

2
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 1 2 1 E 0.6222222222222223 0 1 1.777777777777777 0 1 E 10 10 640 50
2 22
"PRIMITIVE_TEXT7"
""
1 203 19.375 E E E 1 E 1 E N "_WindowText" E N "_Window" E E
 E E
22 0 0 0 0 0
E E E
0
3
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "0"
"main()
{
  int start = strpos($EVAK_VENT, \"_\");
  this.text = latinToCyrillic(\"STATUS VENTILATORA V\" + substr($EVAK_VENT, start+1));
}
" 0
 E 0 1 1 2 1 E U  0 E 203 19.375 204 39
0 2 2 "0s" 0 0 0 193 0 0  203 19.375 1
3
LANG:10024 26 Arial,-1,19,5,75,0,0,0,0,0
LANG:10027 26 Arial,-1,19,5,75,0,0,0,0,0
LANG:10001 26 Arial,-1,19,5,75,0,0,0,0,0
0 3
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
6 25
"RECTANGLE1"
""
1 210 150 E E E 1 E 1 E N {0,0,0} E N {153,153,153,155} E E
 E E
25 0 0 0 0 0
E E E
0
2
LANG:10024 0 
LANG:10027 0 

2
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 3 2 1 E 0.6884615384615386 0 0.4063513193261562 65.42307692307691 17.04730210107657 1 E 210 150 470 590
7 26
"ELLIPSE44"
""
1 69 64 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
26 0 0 0 0 0
E E E
0
4
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
LANG:10000 0 

3
"sizePolicy" "Preferred Preferred"
"dashclr"N "_Transparent"
"antiAliased" "1"
E E 0 2 1 2 1 E 2.701658977845174 0 2.739293015541539 112.2735340139621 -8.761839679670246 1 E 69.30055477814915 64.30824630004 23.5 23.048384
9 27
"ARC62"
""
1 57.64238777681669 219.0522675454453 E E E 1 E 1 E N {0,0,0} E N "WF_Text" E E
 E E
27 0 0 0 0 0
E E E
0
4
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
LANG:10000 0 

2
"dashclr"N "_Transparent"
"antiAliased" "1"
"main () {
  
}" 0
 E 0 1 1 1 1 E 0.4721909789173348 0.3181610130709474 -0.3134533626054262 0.4792826561711321 340.1282810381538 43.49319026808722 1 E 60 220 92.195445 92.195445
 0 40 130 30 200 1
9 28
"ARC63"
""
1 62.15310604520835 220.5338836955314 E E E 1 E 1 E N {0,0,0} E N "WF_Text" E E
 E E
28 0 0 0 0 0
E E E
0
4
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
LANG:10000 0 

2
"dashclr"N "_Transparent"
"antiAliased" "1"
"main () {
  
}" 0
 E 0 1 1 1 1 E 0.05318982817616058 -0.5454603568122278 0.5642589594132738 0.05141777932231294 170.9396939405904 188.8130002095792 1 E 60 220 92.195445 92.195445
 0 40 130 30 200 1
9 29
"ARC64"
""
1 62.95011588953992 221.1683591914309 E E E 1 E 1 E N {0,0,0} E N "WF_Text" E E
 E E
29 0 0 0 0 0
E E E
0
4
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
LANG:10000 0 

2
"dashclr"N "_Transparent"
"antiAliased" "1"
"main () {
  
}" 0
 E 0 1 1 1 1 E -0.05318982817616058 -0.5454603568122278 -0.5642589594132738 0.05141777932231294 426.8283607614902 189.2151141626175 1 E 60 220 92.195445 92.195445
 0 40 130 30 200 1
10 30
"POLYGON1"
""
1 440 580 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
30 0 0 0 0 0
E E E
0
2
LANG:10024 0 
LANG:10027 0 

2
"dashclr"N "_Transparent"
"antiAliased" "1"
"main()
{
  EP_setVisible();
}

void EP_setVisible()
{
  int rc;
  
  string sys_name = \"SysSarani:\";
  if( !dpExists( sys_name + $EVAK_VENT + \".cmd.led.naprijed:_online.._value\"))
  {
    setValue(\"\", \"color\", \"_dpdoesnotexist\");
    return;
  }

  rc = dpConnect(\"EP_setVisibleCB\",
                 sys_name + $EVAK_VENT + \".cmd.led.naprijed:_online.._value\");

  if ( sdGetLastError() < 0 || rc != 0)
    setValue(\"\", \"color\", \"_dpdoesnotexist\");
}


void EP_setVisibleCB(string dp, bool boNewValue)
{
    setValue(\"\", \"visible\", boNewValue);
    if (boNewValue) {
      this.visible = true;
      setValue(\"\",\"color\",\"<STD_valve_open,3,{102,102,102},3>\");
      okvir.foreCol = \"<STD_valve_open,3,{102,102,102},3>\";
      txt.text = latinToCyrillic(\"Ventilator pokrenut\");
      leftButton.text = latinToCyrillic(\"Zaustavi\");
    }
    else {
      this.visible = false;
      setValue(\"\",\"color\",\"{102,102,102}\");
      okvir.foreCol = \"\";
      txt.text = latinToCyrillic(\"Ventilator zaustavljen\");
      leftButton.text = latinToCyrillic(\"Pokreni\");
    }
}
" 0
 E 0 1 3 2 1 E 0.9130434782608695 0 0.9127296954456311 -60.15180718513426 -300.8466795487273 1 E 7 440 580
460 570
410 560
400 600
420 590
450 630
470 620
 1
7 31
"ELLIPSE45"
""
1 140 220 E E E 1 E 1 E N {0,0,0} E N {255,255,255} E E
 E E
31 0 0 0 0 0
E E E
0
4
LANG:10024 0 
LANG:10027 0 
LANG:10001 0 
LANG:10000 0 

2
"dashclr"N "_Transparent"
"antiAliased" "1"
E E 0 1 1 2 1 E 1.863228585597964 0 1.661480953771225 211.963896993642 78.2305505634575 1 E 46.65027738907459 52.90412315001992 7 7.5
2 33
"txt"
"text"
1 15.25 89.1920392282663 E E E 1 E 1 E N "WF_Text" E N "_Window" E E
 E E
33 0 0 0 0 0
E E E
0
2
LANG:10024 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "0"
E E 0 1 3 2 1 E U  0 E 15.25 89.1920392282663 17 106
0 2 2 "0s" 0 0 0 192 0 0  15.25 89.1920392282663 1
2
LANG:10024 32 DejaVu Sans,-1,15,5,75,0,0,0,0,0
LANG:10027 31 Sans Serif,-1,12,5,50,0,0,0,0,0
0 2
LANG:10024 0 
LANG:10027 0 
2 34
"PRIMITIVE_TEXT3"
""
1 15.25 131.6920392282663 E E E 1 E 1 E N "WF_Text" E N "_Window" E E
 E E
34 0 0 0 0 0
E E E
0
2
LANG:10024 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "0"
"main()
{
  dpConnect(\"work\", \"SysSarani:ventilacija_desna_cijev.state.upravljanje_sa_ormara\", 
                    \"SysSarani:ventilacija_desna_cijev.state.upravljanje_sa_csnu\",
                    \"SysSarani:ventilacija_desna_cijev.state.automatsko_upravljanje\",
                    \"SysSarani:ventilacija_lijeva_cijev.state.upravljanje_sa_ormara\", 
                    \"SysSarani:ventilacija_lijeva_cijev.state.upravljanje_sa_csnu\",
                    \"SysSarani:ventilacija_lijeva_cijev.state.automatsko_upravljanje\");
  
  
}

work (string dp1, bool upravljanje_sa_ormara, 
      string dp2, bool upravljanje_sa_csnu,
      string dp3, bool automatsko_upravljanje,
      string dp4, bool upravljanje_sa_ormara_l, 
      string dp5, bool upravljanje_sa_csnu_l,
      string dp6, bool automatsko_upravljanje_l) {
  
  
  if (upravljanje_sa_ormara || upravljanje_sa_ormara_l) {
    this.text = latinToCyrillic(\"Režim upravljanja: \\nRučno sa ormana\");
    leftButton.enabled = false;
  }
    
  
  else if(!upravljanje_sa_csnu && !upravljanje_sa_csnu_l) {
    this.text = latinToCyrillic(\"Prekidači za upravljanje \\nventilacijom na ormanima \\nLKO-D i LKO-L isključeni\");
    leftButton.enabled = false;
  }
  
  else {
    
    if(automatsko_upravljanje) {
      this.text = latinToCyrillic(\"Režim upravljanja: \\nAutomatski sa CSNU\");
      leftButton.enabled = false;
    }
    else {
      leftButton.enabled = true;
      this.text = latinToCyrillic(\"Režim upravljanja: \\nRučno sa CSNU\");
    }
  }
}  
" 0
 E 0 1 3 2 1 E U  0 E 15.25 131.6920392282663 17 149
0 2 2 "0s" 0 0 0 192 0 0  15.25 131.6920392282663 1
2
LANG:10024 32 DejaVu Sans,-1,15,5,75,0,0,0,0,0
LANG:10027 31 Sans Serif,-1,12,5,50,0,0,0,0,0
0 2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 1 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 2 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 3 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 4 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 5 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 6 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 7 
2
LANG:10024 0 
LANG:10027 0 
0
1 0 "SHAPE_GROUP0" 1
3 0 
27 28 29 

"" ""
1 1 "SHAPE_GROUP1" -1
2 1 
26 31 
0 
"" ""
0
