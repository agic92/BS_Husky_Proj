V 13
2
LANG:10024 0 
LANG:10027 0 
PANEL,-1 -1 277 158 N "_3DFace" 2
"$CIJEV"
"$NIVO_ADAPTIVNE"
E E E E E 1 -1 -1 0  23 47
""0  1
E E 3
"CBRef" "1"
"EClose" E
"dpi" "96.1514"
0 0 0
""
DISPLAY_LAYER, 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
LAYER, 0 
2
LANG:10024 0 
LANG:10027 0 
2 1
"txt_pitanje"
""
1 140 27 E E E 1 E 1 E N "WF_Text" E N "_Window" E E
 E E
0 0 0 0 0 0
E E E
0
2
LANG:10024 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "0"
"main()
{
  string ukljucenje = ($NIVO_ADAPTIVNE!=0) ? \"uključiti\" : \"isključiti\";
  string cijev = ($CIJEV == \"L\") ? \"levoj cevi\" : \"desnoj cevi\";
  string nivo = $NIVO_ADAPTIVNE+\"%\";
  
  
  string postotak = ($NIVO_ADAPTIVNE!=0) ? \" na \" + nivo : \"\"; 
  
  this.text = latinToCyrillic(\"Jeste li sigurni da želite\\n \" + ukljucenje + \" adaptivnu rasvetu u\\n  \" + cijev + postotak + \"?\");
}" 0
 E 0 1 3 2 1 E U  0 E 140 27 141 44
0 2 2 "0s" 0 0 0 193 0 0  140 27 1
2
LANG:10024 35 MS Shell Dlg 2,-1,15,5,75,0,0,0,0,0
LANG:10027 35 MS Shell Dlg 2,-1,11,5,50,0,0,0,0,0
0 2
LANG:10024 0 
LANG:10027 0 
13 2
"btn_ok"
""
1 23 116 E E E 1 E 1 E N "WF_Text" E N "_Button" E E
 E E
1 0 0 0 0 0
E E E
0
2
LANG:10024 0 
LANG:10027 0 

0
2
LANG:10024 35 MS Shell Dlg 2,-1,12,5,75,0,0,0,0,0
LANG:10027 35 MS Shell Dlg 2,-1,11,5,50,0,0,0,0,0
0  21 105 105 139

T 
2
LANG:10024 12 PUSH_BUTTON1
LANG:10027 12 PUSH_BUTTON1
"#uses \"rasvjeta_komande_brdjani.ctl\"

main()
{
  this.enabled = false;
  string upjesno_postavljanje = latinToCyrillic(\"Nivo rasvete uspešno promenjen\");
  string greska = latinToCyrillic(\"GREŠKA U KOMUNIKACIJI SA ORMANOM\\nNivo rasvete nije promenjen\");
  dyn_bool stara_stanja;   
  switch($CIJEV) {
    case \"L\":
      stara_stanja = uzmiStaraStanja(\"lijeva\");
      if (podesiNivoAdaptivne2(\"lijeva\", $NIVO_ADAPTIVNE)) {
        txt_info.text = upjesno_postavljanje;
      }
      else {
        txt_info.text = greska;
        vratiStaraStanja(\"lijeva\", stara_stanja);
      }
      break;
    case \"D\":
      stara_stanja = uzmiStaraStanja(\"desna\");
      if (podesiNivoAdaptivne2(\"desna\", $NIVO_ADAPTIVNE)) {
        txt_info.text = upjesno_postavljanje;
      }
      else {
        txt_info.text = greska;
        vratiStaraStanja(\"desna\", stara_stanja);
      }
      break;
    }
  txt_pitanje.visible = false;
  btn_ok.visible = false;
  btn_cancel.visible = false;
  txt_info.visible = true;
  delay(2);
  PanelOff();
}

dyn_bool uzmiStaraStanja(string cijev) {
  bool status;
  dyn_string nivoi = makeDynString(\"100%_R\", \"75%_R\", \"50%_R\", \"25%_R\", \"12_5%_R\");
  dyn_string stara_stanja;
  for (int i=1; i<=dynlen(nivoi); i++) {
    dpGet(\"SysBrdjani:rasvjeta_\" + cijev + \"_cijev.adaptivna.state.\" + nivoi[i], status);
    dynAppend(stara_stanja, status);
  }
  return stara_stanja;
}


void vratiStaraStanja(string cijev, dyn_bool stara_stanja) {
  dyn_string nivoi = makeDynString(\"100%\", \"75%\", \"50%\", \"25%\", \"12_5%\");
  for (int i=1; i<=dynlen(nivoi); i++) {
    dpSet(\"SysBrdjani:rasvjeta_\" + cijev + \"_cijev.adaptivna.cmd.\" + nivoi[i], stara_stanja[i]);
  }
}" 0
 E E "main()
{
  this.text = latinToCyrillic(\"Potvrdi\");
}" 0

13 3
"btn_cancel"
""
1 173 116 E E E 1 E 1 E N "WF_Text" E N "_Button" E E
 E E
2 0 0 0 0 0
E E E
0
2
LANG:10024 0 
LANG:10027 0 

0
2
LANG:10024 35 MS Shell Dlg 2,-1,12,5,75,0,0,0,0,0
LANG:10027 35 MS Shell Dlg 2,-1,11,5,50,0,0,0,0,0
0  171 105 255 139

T 
2
LANG:10024 12 PUSH_BUTTON1
LANG:10027 12 PUSH_BUTTON1
"main()
{
  PanelOff();
}" 0
 E E "main()
{
  this.text = latinToCyrillic(\"Odustani\");
}" 0

2 4
"txt_info"
""
1 135 62 E E E 1 E 1 E N "WF_Text" E N "_Window" E E
 E E
3 0 0 0 0 0
E E E
0
2
LANG:10024 0 
LANG:10027 0 

3
"sizePolicy" "Fixed Fixed"
"dashclr"N "_Transparent"
"antiAliased" "0"
"main()
{
  this.visible = false;
}" 0
 E 0 1 3 2 1 E U  0 E 135 62 136 76
0 2 2 "0s" 0 0 0 193 0 0  135 62 1
2
LANG:10024 35 MS Shell Dlg 2,-1,13,5,75,0,0,0,0,0
LANG:10027 35 MS Shell Dlg 2,-1,11,5,50,0,0,0,0,0
0 2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 1 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 2 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 3 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 4 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 5 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 6 
2
LANG:10024 0 
LANG:10027 0 
0
LAYER, 7 
2
LANG:10024 0 
LANG:10027 0 
0
0
